import $ from"./BlurredCircle.62772641.js";import V from"./ARModelViewer.f37ef75a.js";import{_ as j}from"./client-only.33607c68.js";import M from"./Button.4e0314b8.js";import N from"./Arrow.f0b0d6bc.js";import E from"./NavigationBar.4fbab3bc.js";import{u as q}from"./map.85f5873c.js";import{bI as I,bJ as O,bo as z,bW as D,bj as J,r as a,c5 as P,i as T,b as W,l as h,h as e,w as s,f as l,b$ as F,o as r,u as n,c as G,bk as H}from"./entry.3f6bafe0.js";import{q as K}from"./query.80241a9d.js";import"./tw-merge.1166cefb.js";import"./nuxt-link.e04e3548.js";import"./index.4db78ffb.js";import"./utils.23e540cc.js";import"./preview.5a624107.js";const L=l("div",{class:"fixed bg-cyan-200 top-0 w-full h-full"},null,-1),Q=l("div",{class:"fixed w-full top-0 h-[30vh] bg-gradient-to-b from-yellow-100 to-50%"},null,-1),S=l("div",{class:"flex justify-center items-center h-10 w-10 border border-1 border-black rounded-full"},[l("span",{class:"text-sm"},"AR")],-1),U={key:1},fe={__name:"model",async setup(X){let o,i;const m=q(),b=I();b.value=O.yellow[100];const c=z(),w=D(),{slug:_}=w.params,y=J(()=>c.options.history.state.back==="/map");console.log(c.options.history.state.back);const t=a(),u=a(!1),v=a(!1);a(!1);const{data:f}=([o,i]=P(()=>F(`location-${_}`,()=>K(`location/${_}`).findOne(),{})),o=await o,i(),o),x=async()=>{t.value.activateAR()},k=()=>{const d=f.value._path;c.push({path:d})};return T(()=>{t.value&&(u.value=t.value.canActivateAR)}),W(()=>{m.value&&m.value.hide()}),(d,Y)=>{const C=$,A=V,R=j,p=M,g=N,B=E;return r(),h("div",null,[L,Q,e(C,{class:"fixed bg-cyan-500 bottom-0 left-2/4 -translate-x-1/2 translate-y-3/4"}),e(R,null,{default:s(()=>[e(A,{ref_key:"modelViewerRef",ref:t,"ar-enabled":n(v),model:n(f).model},null,8,["ar-enabled","model"])]),_:1}),e(B,null,{default:s(()=>[n(u)?(r(),G(p,{key:0,onClick:x,class:"flex justify-center items-center bg-yellow-200 h-16 w-16",format:"circle",shadowed:""},{default:s(()=>[S]),_:1})):(r(),h("div",U)),e(p,{onClick:k,class:"bg-yellow-200 h-16 w-16 flex justify-center items-center",format:"circle",shadowed:""},{default:s(()=>[e(g,{class:H(["h-6 w-6",{"rotate-180":!n(y)}])},null,8,["class"])]),_:1})]),_:1})])}}};export{fe as default};
