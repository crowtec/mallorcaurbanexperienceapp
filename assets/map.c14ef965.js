import H from"./Map.1c9f8db2.js";import U from"./BlurredCircle.809744fa.js";import j from"./Diamond.dd8aba36.js";import M from"./Radar.05dbac14.js";import F from"./CompassCardinalPoints.6e3968d7.js";import X from"./Compass.5576ee5e.js";import O from"./Button.ef5ae408.js";import W from"./Search.39ed025a.js";import Z from"./Menu.849c285f.js";import G from"./NavigationBar.f60f8fe5.js";import{a as J,k as K,a9 as Q,H as Y,B as r,z as ee,C as te,V as ae,f as i,e,b as o,w as d,W as w,u as t,c as oe,A as m,D as se,y as ne,o as l,X as ce,S as $,T as C,E as le,Z as re,$ as ie}from"./entry.32ff9640.js";import{q as de}from"./query.732879e8.js";import{P as _e,L as R}from"./permission.dd244a3c.js";import{_ as me}from"./urban-hostel.7f78da8c.js";import"./LightComp.cf489c16.js";import"./client-only.09aba7ff.js";import"./tw-merge.1166cefb.js";import"./nuxt-link.8c3a1f3c.js";import"./utils.a20e32da.js";import"./preview.d3821094.js";const h=u=>(re("data-v-2bdbee3a"),u=u(),ie(),u),ue={class:"relative flex flex-col w-full"},fe={key:0,class:"absolute top-0 left-0 h-full w-full mix-blend-hard-light bg-sky-950/80"},pe=h(()=>o("div",{class:"h-28 p-10 relative"},[o("img",{src:me,alt:"Urban Hostel",class:"w-full h-full"})],-1)),he={key:0,class:"flex-1 w-full relative"},ye={class:"container flex flex-col items-center gap-10 h-full"},ve=h(()=>o("div",{class:"text-center text-md text-yellow-200 w-60"},$("¡Localización encontrada!"),-1)),xe={class:"text-center text-xl text-yellow-200 w-60"},we={key:1,class:"text-center text-yellow-200 w-60"},be=h(()=>o("br",null,null,-1)),ge=h(()=>o("br",null,null,-1)),ke={class:"relative"},Ce={key:0,class:"fixed h-full w-full top-0 left-0 radar-background"},Re={__name:"map",async setup(u){let f,b;K({bodyAttrs:{class:"bg-cyan-500"}});const{data:B}=([f,b]=Q(()=>ne("locations",()=>de("location").find(),{transform:a=>Object.keys(a).map(c=>a[c])})),f=await f,b(),f),I=Y(),y=r(null),p=r(null),s=r(),_=r(),n=r(),g=r(),L=r(0),S=a=>new Promise(function(c){setTimeout(c,a)}),P=()=>{const a=y.value.getBoundingClientRect(),c=a.top+a.height/2;a.left+a.width/2;const v=p.value.getBoundingClientRect();p.value.style.top=`${c-v.height/2}px`},q=async()=>{if(g.value=await _e.requestLocation(),g.value){s.value=!0;const[a]=await Promise.all([R.getCurrentLocation(),S(2500)]);_.value=B.value.find(c=>R.nearbyLocation(a,c.place.coordinate)),s.value=!1,n.value=!0,setTimeout(()=>{_.value?I.push({path:`${_.value._path}/model`}):n.value=!1},2500)}};return ee(()=>{y.value&&p.value&&P()}),te(()=>{}),ae(()=>{}),(a,c)=>{const v=H,k=U,V=j,z=M,N=F,T=X,x=O,A=W,D=Z,E=G;return l(),i("div",{class:se(["fixed w-full bg-cyan-500",{flex:t(n)}]),style:{height:"100dvh"}},[e(v),e(k,{class:"fixed bg-cyan-500 top-0 left-1/2 -translate-x-1/2 -translate-y-1/2"}),e(k,{class:"fixed bg-cyan-500/50 bottom-0 left-1/2 -translate-x-1/2 translate-y-3/4"}),o("div",ue,[e(w,{name:"fade",appear:""},{default:d(()=>[t(n)?(l(),i("div",fe)):m("",!0)]),_:1}),pe,e(w,{name:"fade",appear:""},{default:d(()=>[t(n)?(l(),i("div",he,[o("div",ye,[t(_)?(l(),i(ce,{key:0},[ve,e(V,{class:"max-h-[180px] h-[30vh]"}),o("div",xe,$(`¡Estás en ${t(_).title}!`),1)],64)):(l(),i("div",we,[C(" ¡Vaya! Parece que en esta localización no hay nada que descubrir."),be,ge,C(" ¡Sigue buscando! ")]))])])):m("",!0)]),_:1})]),o("div",ke,[e(w,{name:"fade",appear:""},{default:d(()=>[t(s)?(l(),i("div",Ce)):m("",!0)]),_:1}),t(s)?(l(),i("div",{key:0,ref_key:"radarRef",ref:p,class:"fixed top-0 left-0 w-screen h-screen"},[t(s)?(l(),oe(z,{key:0})):m("",!0)],512)):m("",!0),e(E,{expanded:""},{default:d(()=>[e(x,{disabled:t(s)||t(n),class:"bg-yellow-200 h-16 w-16 relative flex justify-center items-center",format:"circle",shadowed:""},{default:d(()=>[e(N,{class:"absolute w-full h-full"}),e(T,{class:"h-8 w-8",style:le({transform:`rotate(${t(L)}deg)`})},null,8,["style"])]),_:1},8,["disabled"]),o("div",{ref_key:"scanRef",ref:y},[e(x,{disabled:t(s)||t(n),onClick:q,class:"bg-cyan-100 p-11",format:"circle",shadowed:""},{default:d(()=>[e(A,{class:"h-8 w-8"})]),_:1},8,["disabled"])],512),e(x,{disabled:t(s)||t(n),to:"/location",class:"bg-yellow-200 h-16 w-16 flex justify-center items-center",format:"circle",shadowed:""},{default:d(()=>[e(D,{class:"h-8 w-8"})]),_:1},8,["disabled"])]),_:1})])],2)}}},Oe=J(Re,[["__scopeId","data-v-2bdbee3a"]]);export{Oe as default};
