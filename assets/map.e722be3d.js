import U from"./Map.30efde49.js";import F from"./BlurredCircle.8d0aedc0.js";import O from"./Diamond.a4ad1ce1.js";import G from"./Radar.bac1d755.js";import X from"./CompassCardinalPoints.f9119dcb.js";import J from"./Compass.9cfc3578.js";import K from"./Button.23bcae87.js";import Q from"./Search.57caac8b.js";import W from"./Menu.70b3299f.js";import Y from"./NavigationBar.9a6c71d7.js";import{i as Z,bO as ee,b_ as te,bn as ae,r as i,l as oe,b as se,k as ne,j as r,h as t,u as e,c as g,f as s,w as d,bE as k,m,bi as le,bS as ce,o,bD as ie,bA as I,bB as B,bj as re,bG as de,bH as _e}from"./entry.27abe94a.js";import{q as me}from"./query.0de33a35.js";import{P as ue,L as $}from"./permission.dd244a3c.js";import{_ as fe}from"./urban-hostel.905c97e5.js";import"./NightLights.0b1b3227.js";import"./LightComp.144daac9.js";import"./DayLights.3851c234.js";import"./client-only.186de0b6.js";import"./whales.f5eac6af.js";import"./tw-merge.1166cefb.js";import"./nuxt-link.6845acc2.js";import"./utils.e44e36f7.js";import"./preview.980983d6.js";const y=u=>(de("data-v-9b325c97"),u=u(),_e(),u),pe={class:"relative flex flex-col w-full"},he={key:0,class:"absolute top-0 left-0 h-full w-full mix-blend-hard-light bg-sky-950/80"},ye=y(()=>s("div",{class:"h-28 p-10 relative"},[s("img",{src:fe,alt:"Urban Hostel",class:"w-full h-full"})],-1)),be={key:0,class:"flex-1 w-full relative"},ve={class:"container flex flex-col items-center gap-10 h-full"},xe=y(()=>s("div",{class:"text-center text-md text-yellow-200 w-60"},I("¡Localización encontrada!"),-1)),we={class:"text-center text-xl text-yellow-200 w-60"},ge={key:1,class:"text-center text-yellow-200 w-60"},ke=y(()=>s("br",null,null,-1)),Ce=y(()=>s("br",null,null,-1)),Re={class:"relative"},Be={key:0,class:"fixed h-full w-full top-0 left-0 radar-background"},$e={__name:"map",async setup(u){let f,C;ee({bodyAttrs:{class:"bg-cyan-500"}});const{data:L}=([f,C]=te(()=>ce("locations",()=>me("location").find(),{transform:a=>Object.keys(a).map(c=>a[c])})),f=await f,C(),f),S=ae(),b=i(null),p=i(null),n=i(),_=i(),l=i(),R=i(),P=i(0),h=i(!1),q=a=>new Promise(function(c){setTimeout(c,a)}),j=()=>{const a=b.value.getBoundingClientRect(),c=a.top+a.height/2;a.left+a.width/2;const v=p.value.getBoundingClientRect();p.value.style.top=`${c-v.height/2}px`},N=async()=>{if(R.value=await ue.requestLocation(),R.value){n.value=!0;const[a]=await Promise.all([$.getCurrentLocation(),q(2500)]);_.value=L.value.find(c=>$.nearbyLocation(a,c.place.coordinate)),n.value=!1,l.value=!0,setTimeout(()=>{_.value?S.push({path:`${_.value._path}/model`}):l.value=!1},2500)}},V=a=>{h.value=!h.value};return oe(()=>{b.value&&p.value&&j()}),se(()=>{}),ne(()=>{}),(a,c)=>{const v=U,x=F,z=O,A=G,D=X,E=J,w=K,H=Q,M=W,T=Y;return o(),r("div",{class:le(["fixed w-full bg-cyan-500",{flex:e(l)}]),style:{height:"100dvh"}},[t(v,{"night-mode":e(h)},null,8,["night-mode"]),e(h)?(o(),g(x,{key:1,class:"fixed bg-blue-900 top-0 left-1/2 -translate-x-1/2 -translate-y-1/2"})):(o(),g(x,{key:0,class:"fixed bg-cyan-500 top-0 left-1/2 -translate-x-1/2 -translate-y-1/2"})),t(x,{class:"fixed bg-cyan-500/50 bottom-0 left-1/2 -translate-x-1/2 translate-y-3/4"}),s("div",pe,[t(k,{name:"fade",appear:""},{default:d(()=>[e(l)?(o(),r("div",he)):m("",!0)]),_:1}),ye,t(k,{name:"fade",appear:""},{default:d(()=>[e(l)?(o(),r("div",be,[s("div",ve,[e(_)?(o(),r(ie,{key:0},[xe,t(z,{class:"max-h-[180px] h-[30vh]"}),s("div",we,I(`¡Estás en ${e(_).title}!`),1)],64)):(o(),r("div",ge,[B(" ¡Vaya! Parece que en esta localización no hay nada que descubrir."),ke,Ce,B(" ¡Sigue buscando! ")]))])])):m("",!0)]),_:1})]),s("div",Re,[t(k,{name:"fade",appear:""},{default:d(()=>[e(n)?(o(),r("div",Be)):m("",!0)]),_:1}),e(n)?(o(),r("div",{key:0,ref_key:"radarRef",ref:p,class:"fixed top-0 left-0 w-screen h-screen"},[e(n)?(o(),g(A,{key:0})):m("",!0)],512)):m("",!0),t(T,{expanded:""},{default:d(()=>[t(w,{onClick:V,disabled:e(n)||e(l),class:"bg-yellow-200 h-16 w-16 relative flex justify-center items-center",format:"circle",shadowed:""},{default:d(()=>[t(D,{class:"absolute w-full h-full"}),t(E,{class:"h-8 w-8",style:re({transform:`rotate(${e(P)}deg)`})},null,8,["style"])]),_:1},8,["disabled"]),s("div",{ref_key:"scanRef",ref:b},[t(w,{disabled:e(n)||e(l),onClick:N,class:"bg-cyan-100 p-11",format:"circle",shadowed:""},{default:d(()=>[t(H,{class:"h-8 w-8"})]),_:1},8,["disabled"])],512),t(w,{disabled:e(n)||e(l),to:"/location",class:"bg-yellow-200 h-16 w-16 flex justify-center items-center",format:"circle",shadowed:""},{default:d(()=>[t(M,{class:"h-8 w-8"})]),_:1},8,["disabled"])]),_:1})])],2)}}},We=Z($e,[["__scopeId","data-v-9b325c97"]]);export{We as default};
