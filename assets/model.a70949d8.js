import C from"./ARModel.49731601.js";import{_ as A}from"./client-only.186de0b6.js";import k from"./Button.23bcae87.js";import $ from"./Arrow.582335cc.js";import g from"./NavigationBar.9a6c71d7.js";import{bO as B,bn as N,bM as R,r as u,b_ as j,j as q,h as e,w as a,bS as O,o as P,u as p,f as d,b$ as f}from"./entry.27abe94a.js";import{q as E}from"./query.0de33a35.js";import{P as M}from"./permission.dd244a3c.js";import"./LightComp.144daac9.js";import"./skybox.11a5cc54.js";import"./nuxt-link.6845acc2.js";import"./tw-merge.1166cefb.js";import"./utils.e44e36f7.js";import"./preview.980983d6.js";const V=d("div",{class:"flex justify-center items-center h-10 w-10 border border-1 border-black rounded-full"},[d("span",{class:"text-sm"},"AR")],-1),Z={__name:"model",async setup(D){let t,r;B({bodyAttrs:{class:"bg-cyan-200"}});const l=N(),s=R(),{slug:c}=s.params,o=u(!1),i=u(!1),{data:m}=([t,r]=j(()=>O(`location-${c}`,()=>E(`location/${c}`).findOne(),{})),t=await t,r(),t),h=async()=>{o.value?window.location?(l.push({path:s.path}),setTimeout(()=>{window.location.reload()},100)):f({path:s.path}):(i.value=await M.requestCamera(),i.value&&(o.value=!0))},w=()=>{const n=m.value._path;o.value?f({path:n}):l.push({path:n})};return(n,G)=>{const b=C,y=A,_=k,x=$,v=g;return P(),q("div",null,[e(y,null,{default:a(()=>[e(b,{"ar-enabled":p(o),model:p(m).model.src},null,8,["ar-enabled","model"])]),_:1}),e(v,null,{default:a(()=>[e(_,{onClick:h,class:"flex justify-center items-center bg-yellow-200 h-16 w-16",format:"circle",shadowed:""},{default:a(()=>[V]),_:1}),e(_,{onClick:w,class:"bg-yellow-200 h-16 w-16 flex justify-center items-center",format:"circle",shadowed:""},{default:a(()=>[e(x,{class:"h-6 w-6"})]),_:1})]),_:1})])}}};export{Z as default};
