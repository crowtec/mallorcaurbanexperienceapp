import C from"./ARModel.eb7e9cc2.js";import{_ as k}from"./client-only.d30f1c33.js";import A from"./Button.aab1813d.js";import B from"./Arrow.a99eccf0.js";import g from"./NavigationBar.fbcdc585.js";import{k as N,H as R,i as $,B as _,a9 as j,f as q,e,w as a,y as P,o as E,u as d,b as p,aa as f}from"./entry.2963d725.js";import{q as H}from"./query.9d4e5c2d.js";import{P as O}from"./permission.dd244a3c.js";import"./LightComp.10a0fb2d.js";import"./nuxt-link.0beb9d41.js";import"./tw-merge.1166cefb.js";import"./utils.36880be0.js";import"./preview.cee9f44e.js";const V=p("div",{class:"flex justify-center items-center h-10 w-10 border border-1 border-black rounded-full"},[p("span",{class:"text-sm"},"AR")],-1),Y={__name:"model",async setup(D){let t,r;N({bodyAttrs:{class:"bg-cyan-200"}});const l=R(),s=$(),{slug:c}=s.params,o=_(!1),i=_(!1),{data:m}=([t,r]=j(()=>P(`location-${c}`,()=>H(`location/${c}`).findOne(),{})),t=await t,r(),t),h=async()=>{o.value?window.location?(l.push({path:s.path}),setTimeout(()=>{window.location.reload()},100)):f({path:s.path}):(i.value=await O.requestCamera(),i.value&&(o.value=!0))},w=()=>{const n=m.value._path;o.value?f({path:n}):l.push({path:n})};return(n,G)=>{const y=C,b=k,u=A,x=B,v=g;return E(),q("div",null,[e(b,null,{default:a(()=>[e(y,{"ar-enabled":d(o),model:d(m).model.src},null,8,["ar-enabled","model"])]),_:1}),e(v,null,{default:a(()=>[e(u,{onClick:h,class:"flex justify-center items-center bg-yellow-200 h-16 w-16",format:"circle",shadowed:""},{default:a(()=>[V]),_:1}),e(u,{onClick:w,class:"bg-yellow-200 h-16 w-16 flex justify-center items-center",format:"circle",shadowed:""},{default:a(()=>[e(x,{class:"h-6 w-6"})]),_:1})]),_:1})])}}};export{Y as default};
