import B from"./NightLights.9fca4992.js";import j from"./DayLights.7bfc1efb.js";import z from"./MapEntity.0ec5b579.js";import{_ as E}from"./client-only.d31561b2.js";import{k as F,p as I,r as l,m as R,j as D,h,o as a,c as s,b as n,w as y,q as L,bE as O,a as r,n as H,u as f,F as i,bF as T,i as U,bG as W,bH as $}from"./entry.895585a5.js";import{g as q}from"./index.4db78ffb.js";import"./Light.7ed7ed06.js";import"./map.294cc087.js";const G=""+new URL("pin_filled.09e8dc87.glb",import.meta.url).href;const u=c=>(W("data-v-f9efbfd0"),c=c(),$(),c),J={key:0,class:"map__placeholder fixed top-0 left-0 h-full w-full"},K=u(()=>r("div",{class:"fixed w-full top-0 h-[30vh] bg-gradient-to-b from-teal-700 to-70%"},null,-1)),Q=u(()=>r("div",{class:"fixed w-full bottom-0 h-[30vh] bg-gradient-to-t from-teal-700 to-70%"},null,-1)),X=u(()=>r("div",{class:"fixed w-full top-0 h-[30vh] bg-gradient-to-b from-teal-500 to-70%"},null,-1)),Y=u(()=>r("div",{class:"fixed w-full bottom-0 h-[30vh] bg-gradient-to-b from-teal-500 to-70% rotate-180"},null,-1)),Z={__name:"Map",props:{locations:{type:Array,default:[]}},setup(c,{expose:C}){const m=I(),_=l(!1),v=l(!1),d=l(!0),g=l(!1),x=l(!1),w=l(!1),b=l(!0);return C({show:()=>d.value=!0,hide:()=>d.value=!1,toggleCenitalView:({onComplete:t=()=>{}}={})=>{if(v.value=!v.value,_.value){const o=q.timeline(),e=_.value.components["orbit-controls"],p=e.controls.object;v.value?(e.controls.minPolarAngle=0,o.to(p.position,{x:0,y:20,z:0,onComplete:()=>{e.controls.enabled=!1,t&&t()}})):(e.controls.enabled=!0,o.to(p.position,{x:0,y:0,z:18,onComplete:()=>{e.controls.minPolarAngle=1,t&&t()}}))}},showLocations:()=>g.value=!0,hideLocations:()=>g.value=!1}),R(()=>{var o,e;const t=(o=document.getElementsByTagName("html"))==null?void 0:o[0];(e=t==null?void 0:t.classList)==null||e.remove("a-fullscreen")}),D(()=>{w.value&&x.value&&(b.value=!1)}),(t,o)=>{const e=h("a-sky"),p=B,M=j,S=z,k=h("a-entity"),A=h("a-scene"),V=E;return a(),s(i,null,[n(O,{name:"fade",appear:""},{default:y(()=>[b.value?(a(),s("div",J)):L("",!0)]),_:1}),n(V,null,{default:y(()=>[r("div",{class:H(["transition-opacity duration-1000",b.value?"opacity-0 invisible":"opacity-100 visible"])},[n(A,{ref:"sceneRef",visible:d.value,shadow:"type: pcf",fog:f(m)?"type: exponential; color: #1A1C25; density: 0.025;":"type: exponential; color: #175557; density: 0.025;","device-orientation-permission-ui":"enabled: false",renderer:`antialias: true;
                    colorManagement: true;
                    sortObjects: false;
                    physicallyCorrectLights: true;
                    maxCanvasWidth: 1920;
                    maxCanvasHeight: 1920;`,onLoaded:o[1]||(o[1]=()=>w.value=!0)},{default:y(()=>[f(m)?(a(),s(i,{key:0},[n(e,{color:"#1A1C25"}),n(p)],64)):(a(),s(i,{key:1},[n(e,{color:"#175557"}),n(M)],64)),n(S,{onModelLoaded:o[0]||(o[0]=()=>x.value=!0)}),(a(!0),s(i,null,T(c.locations,(N,P)=>(a(),U(k,{key:P,"animation-mixer":"",id:"target","gltf-model":f(G),position:N.place.position,rotation:"0 0 0",scale:"0.2 0.2 0.2",visible:g.value},null,8,["gltf-model","position","visible"]))),128)),n(k,{ref_key:"cameraRef",ref:_,id:"camera",camera:"","look-controls":"enabled:false","orbit-controls":"target: 0 -1.7 -0.5; initialPosition: 0 20 0; rotateSpeed: 0.5; enablePan: false; minPolarAngle:50; maxPolarAngle:60; minDistance: 10; maxDistance: 30; zoomSpeed: 0.4; dampingFactor: 0.8; enabled: true;"},null,512)]),_:1},8,["visible","fog"])],2)]),_:1}),d.value?(a(),s(i,{key:0},[f(m)?(a(),s(i,{key:0},[K,Q],64)):(a(),s(i,{key:1},[X,Y],64))],64)):L("",!0)],64)}}},ue=F(Z,[["__scopeId","data-v-f9efbfd0"]]);export{ue as default};
