import V from"./Button.330feed3.js";import D from"./Cross.248b21cc.js";import{bq as E,r as d,i as H,b as $,u as e,o as a,l as s,f as o,bD as r,h as l,w as i,bG as f,j as u,bC as B}from"./entry.2bb3e483.js";import{a as M,d as T,B as U}from"./device.fe62fe19.js";import{i as F}from"./pwa.79636883.js";import{u as G}from"./index.a3e5faef.js";import"./nuxt-link.261f1269.js";import"./tw-merge.1166cefb.js";const O={key:0,class:"fixed w-full top-0 left-0 px-5 py-6"},W={class:"relative w-full bg-blue-900/90 px-5 py-6 rounded-2xl border-2 boder-green-100"},J={class:"flex items-center justify-between gap-6 w-full"},K=o("div",{class:"text-green-100 text-xs"}," Para una mejor experiencia instala la app en tu dispositivo. ",-1),L={key:0,class:"flex flex-col gap-6 px-6 pt-16 pb-6"},Q=B('<div class="flex gap-6"><div class="slashed-zero text-green-100 text-2xl">01</div><div class="text-green-100"> Haz click en el icono de &quot;Compartir&quot; del navegador. </div></div><div class="flex gap-6"><div class="slashed-zero text-green-100 text-2xl">02</div><div class="text-green-100"> Selecciona la opción &quot;Añadir a pantalla de inicio&quot;. </div></div><div class="flex gap-6"><div class="slashed-zero text-green-100 text-2xl">03</div><div class="text-green-100"> Confirma la instalación pulsando el botón de &quot;Añadir&quot;. </div></div>',3),X={key:1,class:"flex gap-6"},Y=o("div",{class:"slashed-zero text-green-100 text-2xl"},"01",-1),Z=o("div",{class:"text-green-100"}," Abre la web desde Safari para instalar la aplicación en iOS. ",-1),ee=[Y,Z],te=B('<div class="flex gap-6"><div class="slashed-zero text-green-100 text-2xl">01</div><div class="text-green-100"> Haz click en el icono de &quot;Menú&quot; del navegador. </div></div><div class="flex gap-6"><div class="slashed-zero text-green-100 text-2xl">02</div><div class="text-green-100"> Selecciona la opción &quot;Instalar&quot; o &quot;Instalar aplicación&quot;. </div></div><div class="flex gap-6"><div class="slashed-zero text-green-100 text-2xl">03</div><div class="text-green-100"> Confirma la instalación pulsando el botón de &quot;Instalar&quot;. </div></div>',3),ae={class:"flex items-center justify-between gap-6 w-full"},se=o("div",{class:"text-green-100 text-xs"}," Para una mejor experiencia instala la app en tu dispositivo. ",-1),le={class:"flex items-center justify-between gap-6 w-full"},oe=o("div",{class:"text-green-100 text-xs"}," Hay una nueva versión de la aplicación, pulsa el botón para actualizarla. ",-1),ge={__name:"PwaToast",setup(ne){const{$pwa:t}=E(),c=G("pwa-installation-cancelled",!1,sessionStorage),g=d(),p=d(),x=d(!1),_=d(!1),h=d();console.log("pwaInstallationCancelled.value"),console.log(c.value);const S=async()=>{t.install()},P=()=>{t.updateServiceWorker()},j=()=>{x.value=!x.value},N=()=>{t.cancelInstall(),c.value=!0},R=()=>{t.cancelPrompt(),c.value=!0},A=()=>{c.value=!0};return H(()=>console.log(t)),$(()=>{_.value=M(),h.value=T(),p.value=typeof BeforeInstallPromptEvent<"u",g.value=F()}),(m,re)=>{var b,w,k,y,C,I,q,z;const n=V,v=D;return!e(g)&&!e(c)&&(!e(p)||(b=e(t))!=null&&b.needRefresh||(w=e(t))!=null&&w.showInstallPrompt&&!((k=e(t))!=null&&k.offlineReady)&&!((y=e(t))!=null&&y.needRefresh))?(a(),s("div",O,[o("div",W,[e(p)?u("",!0):(a(),s(r,{key:0},[o("div",J,[K,l(n,{class:"bg-green-100 px-6 py-2 text-xs",onClick:j,format:"rounded"},{default:i(()=>[f("Instrucciones")]),_:1})]),e(x)?(a(),s("div",L,[e(_)?(a(),s(r,{key:0},[e(h)===("Browsers"in m?m.Browsers:e(U)).Safari?(a(),s(r,{key:0},[Q],64)):(a(),s("div",X,ee))],64)):(a(),s(r,{key:1},[te],64))])):u("",!0),l(n,{class:"absolute bg-green-100 border-2 border-green-100 absolute p-1 text-xs top-0 right-0 -translate-y-1/3 translate-x-1/3",format:"rounded",onClick:A},{default:i(()=>[l(v,{class:"text-green-100 h-2.5 w-2.5"})]),_:1})],64)),(C=e(t))!=null&&C.showInstallPrompt&&!((I=e(t))!=null&&I.offlineReady)&&!((q=e(t))!=null&&q.needRefresh)?(a(),s(r,{key:1},[o("div",ae,[se,l(n,{class:"bg-green-100 px-6 py-2 text-xs",onClick:S,format:"rounded"},{default:i(()=>[f("Instalar")]),_:1})]),l(n,{class:"absolute bg-green-100 border-2 border-green-100 absolute p-1 text-xs top-0 right-0 -translate-y-1/3 translate-x-1/3",onClick:N,format:"rounded"},{default:i(()=>[l(v,{class:"text-green-100 h-2.5 w-2.5"})]),_:1})],64)):u("",!0),(z=e(t))!=null&&z.needRefresh?(a(),s(r,{key:2},[o("div",le,[oe,l(n,{class:"bg-green-100 px-6 py-2 text-xs",onClick:P,format:"rounded"},{default:i(()=>[f("Actualizar")]),_:1})]),l(n,{class:"absolute bg-green-100 border-2 border-green-100 absolute p-1 text-xs top-0 right-0 -translate-y-1/3 translate-x-1/3",onClick:R,format:"rounded"},{default:i(()=>[l(v,{class:"text-green-100 h-2.5 w-2.5"})]),_:1})],64)):u("",!0)])])):u("",!0)}}};export{ge as default};
