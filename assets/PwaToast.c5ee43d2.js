import R from"./Button.af47ac8f.js";import A from"./Cross.45d3ec27.js";import{bq as T,r as x,b as V,u as t,o as a,l as s,f as n,bD as i,h as l,w as c,bG as h,j as p,bC as D}from"./entry.fd26860f.js";import{a as E,d as H,B as $}from"./device.fe62fe19.js";import{u as G}from"./index.9443c43c.js";import"./nuxt-link.dc830ade.js";import"./tw-merge.1166cefb.js";function O(_,e,o){const d=_.getTime(),u=e.getTime();return Math.abs(u-d)/(1e3*60)>=o}const U={key:0,class:"fixed w-full top-0 left-0 px-5 py-6"},F={class:"relative w-full bg-blue-900/90 px-5 py-6 rounded-2xl border-2 boder-green-100"},W={class:"flex items-center justify-between gap-6 w-full"},J=n("div",{class:"text-green-100 text-xs"}," Para una mejor experiencia instala la app en tu dispositivo. ",-1),K={key:0,class:"flex flex-col gap-6 px-6 pt-16 pb-6"},L=D('<div class="flex gap-6"><div class="slashed-zero text-green-100 text-2xl">01</div><div class="text-green-100"> Haz click en el icono de &quot;Compartir&quot; del navegador. </div></div><div class="flex gap-6"><div class="slashed-zero text-green-100 text-2xl">02</div><div class="text-green-100"> Selecciona la opción &quot;Añadir a pantalla de inicio&quot;. </div></div><div class="flex gap-6"><div class="slashed-zero text-green-100 text-2xl">03</div><div class="text-green-100"> Confirma la instalación pulsando el botón de &quot;Añadir&quot;. </div></div>',3),Q={key:1,class:"flex gap-6"},X=n("div",{class:"slashed-zero text-green-100 text-2xl"},"01",-1),Y=n("div",{class:"text-green-100"}," Abre la web desde Safari para instalar la aplicación en iOS. ",-1),Z=[X,Y],ee=D('<div class="flex gap-6"><div class="slashed-zero text-green-100 text-2xl">01</div><div class="text-green-100"> Haz click en el icono de &quot;Menú&quot; del navegador. </div></div><div class="flex gap-6"><div class="slashed-zero text-green-100 text-2xl">02</div><div class="text-green-100"> Selecciona la opción &quot;Instalar&quot; o &quot;Instalar aplicación&quot;. </div></div><div class="flex gap-6"><div class="slashed-zero text-green-100 text-2xl">03</div><div class="text-green-100"> Confirma la instalación pulsando el botón de &quot;Instalar&quot;. </div></div>',3),te={class:"flex items-center justify-between gap-6 w-full"},ae=n("div",{class:"text-green-100 text-xs"}," Para una mejor experiencia instala la app en tu dispositivo. ",-1),se={class:"flex items-center justify-between gap-6 w-full"},le=n("div",{class:"text-green-100 text-xs"}," Hay una nueva versión de la aplicación, pulsa el botón para actualizarla. ",-1),xe={__name:"PwaToast",setup(_){const{$pwa:e}=T(),o=G("pwa-installation-cancelled",void 0,localStorage),d=x(),u=x(!1),f=x(!1),v=x(),z=async()=>{e.install()},P=()=>{e.updateServiceWorker()},B=()=>{u.value=!u.value},M=()=>{e.cancelInstall(),o.value=new Date},j=()=>{e.cancelPrompt(),o.value=new Date},N=()=>{o.value=new Date};return V(()=>{f.value=E(),v.value=H(),d.value=typeof BeforeInstallPromptEvent<"u",(!o.value||O(new Date(o.value),new Date,5))&&(console.log("resetShowInstallPrompt"),alert("clear"),localStorage.removeItem("vite-pwa:hide-install"),e.showInstallPrompt=!0)}),(g,ne)=>{var b,w,I,k,y,C,q,S;const r=R,m=A;return!t(e).isInstalled&&!t(o)&&(!t(d)||(b=t(e))!=null&&b.needRefresh||(w=t(e))!=null&&w.showInstallPrompt&&!((I=t(e))!=null&&I.offlineReady)&&!((k=t(e))!=null&&k.needRefresh))?(a(),s("div",U,[n("div",F,[t(d)?p("",!0):(a(),s(i,{key:0},[n("div",W,[J,l(r,{class:"bg-green-100 px-6 py-2 text-xs",onClick:B,format:"rounded"},{default:c(()=>[h("Instrucciones")]),_:1})]),t(u)?(a(),s("div",K,[t(f)?(a(),s(i,{key:0},[t(v)===("Browsers"in g?g.Browsers:t($)).Safari?(a(),s(i,{key:0},[L],64)):(a(),s("div",Q,Z))],64)):(a(),s(i,{key:1},[ee],64))])):p("",!0),l(r,{class:"absolute bg-green-100 border-2 border-green-100 absolute p-1 text-xs top-0 right-0 -translate-y-1/3 translate-x-1/3",format:"rounded",onClick:N},{default:c(()=>[l(m,{class:"text-green-100 h-2.5 w-2.5"})]),_:1})],64)),(y=t(e))!=null&&y.showInstallPrompt&&!((C=t(e))!=null&&C.offlineReady)&&!((q=t(e))!=null&&q.needRefresh)?(a(),s(i,{key:1},[n("div",te,[ae,l(r,{class:"bg-green-100 px-6 py-2 text-xs",onClick:z,format:"rounded"},{default:c(()=>[h("Instalar")]),_:1})]),l(r,{class:"absolute bg-green-100 border-2 border-green-100 absolute p-1 text-xs top-0 right-0 -translate-y-1/3 translate-x-1/3",onClick:M,format:"rounded"},{default:c(()=>[l(m,{class:"text-green-100 h-2.5 w-2.5"})]),_:1})],64)):p("",!0),(S=t(e))!=null&&S.needRefresh?(a(),s(i,{key:2},[n("div",se,[le,l(r,{class:"bg-green-100 px-6 py-2 text-xs",onClick:P,format:"rounded"},{default:c(()=>[h("Actualizar")]),_:1})]),l(r,{class:"absolute bg-green-100 border-2 border-green-100 absolute p-1 text-xs top-0 right-0 -translate-y-1/3 translate-x-1/3",onClick:j,format:"rounded"},{default:c(()=>[l(m,{class:"text-green-100 h-2.5 w-2.5"})]),_:1})],64)):p("",!0)])])):p("",!0)}}};export{xe as default};
