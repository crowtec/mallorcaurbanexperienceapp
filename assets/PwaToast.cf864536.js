import A from"./Button.6c15d385.js";import V from"./Cross.10fd45e5.js";import{bq as D,r as u,i as E,b as H,u as e,o as a,l as s,f as o,bD as i,h as l,w as c,bG as f,j as d,bC as z}from"./entry.db6515d5.js";import{a as $,d as M,B as T}from"./device.fe62fe19.js";import{u as U}from"./index.38436b7f.js";import"./nuxt-link.6b691358.js";import"./tw-merge.1166cefb.js";const F={key:0,class:"fixed w-full top-0 left-0 px-5 py-6"},G={class:"relative w-full bg-blue-900/90 px-5 py-6 rounded-2xl border-2 boder-green-100"},O={class:"flex items-center justify-between gap-6 w-full"},W=o("div",{class:"text-green-100 text-xs"}," Para una mejor experiencia instala la app en tu dispositivo. ",-1),J={key:0,class:"flex flex-col gap-6 px-6 pt-16 pb-6"},K=z('<div class="flex gap-6"><div class="slashed-zero text-green-100 text-2xl">01</div><div class="text-green-100"> Haz click en el icono de &quot;Compartir&quot; del navegador. </div></div><div class="flex gap-6"><div class="slashed-zero text-green-100 text-2xl">02</div><div class="text-green-100"> Selecciona la opción &quot;Añadir a pantalla de inicio&quot;. </div></div><div class="flex gap-6"><div class="slashed-zero text-green-100 text-2xl">03</div><div class="text-green-100"> Confirma la instalación pulsando el botón de &quot;Añadir&quot;. </div></div>',3),L={key:1,class:"flex gap-6"},Q=o("div",{class:"slashed-zero text-green-100 text-2xl"},"01",-1),X=o("div",{class:"text-green-100"}," Abre la web desde Safari para instalar la aplicación en iOS. ",-1),Y=[Q,X],Z=z('<div class="flex gap-6"><div class="slashed-zero text-green-100 text-2xl">01</div><div class="text-green-100"> Haz click en el icono de &quot;Menú&quot; del navegador. </div></div><div class="flex gap-6"><div class="slashed-zero text-green-100 text-2xl">02</div><div class="text-green-100"> Selecciona la opción &quot;Instalar&quot; o &quot;Instalar aplicación&quot;. </div></div><div class="flex gap-6"><div class="slashed-zero text-green-100 text-2xl">03</div><div class="text-green-100"> Confirma la instalación pulsando el botón de &quot;Instalar&quot;. </div></div>',3),ee={class:"flex items-center justify-between gap-6 w-full"},te=o("div",{class:"text-green-100 text-xs"}," Para una mejor experiencia instala la app en tu dispositivo. ",-1),ae={class:"flex items-center justify-between gap-6 w-full"},se=o("div",{class:"text-green-100 text-xs"}," Hay una nueva versión de la aplicación, pulsa el botón para actualizarla. ",-1),xe={__name:"PwaToast",setup(le){const{$pwa:t}=D(),n=U("pwa-installation-cancelled",!1,sessionStorage),p=u(),x=u(!1),g=u(!1),_=u();console.log("pwaInstallationCancelled.value"),console.log(n.value);const B=async()=>{t.install()},S=()=>{t.updateServiceWorker()},P=()=>{x.value=!x.value},j=()=>{t.cancelInstall(),n.value=!0},N=()=>{t.cancelPrompt(),n.value=!0},R=()=>{n.value=!0};return E(()=>console.log(t)),H(()=>{g.value=$(),_.value=M(),p.value=typeof BeforeInstallPromptEvent<"u"}),(h,oe)=>{var m,b,w,k,y,C,I,q;const r=A,v=V;return!e(t).isInstalled&&!e(n)&&(!e(p)||(m=e(t))!=null&&m.needRefresh||(!e(n)||(b=e(t))!=null&&b.showInstallPrompt)&&!((w=e(t))!=null&&w.offlineReady)&&!((k=e(t))!=null&&k.needRefresh))?(a(),s("div",F,[o("div",G,[e(p)?d("",!0):(a(),s(i,{key:0},[o("div",O,[W,l(r,{class:"bg-green-100 px-6 py-2 text-xs",onClick:P,format:"rounded"},{default:c(()=>[f("Instrucciones")]),_:1})]),e(x)?(a(),s("div",J,[e(g)?(a(),s(i,{key:0},[e(_)===("Browsers"in h?h.Browsers:e(T)).Safari?(a(),s(i,{key:0},[K],64)):(a(),s("div",L,Y))],64)):(a(),s(i,{key:1},[Z],64))])):d("",!0),l(r,{class:"absolute bg-green-100 border-2 border-green-100 absolute p-1 text-xs top-0 right-0 -translate-y-1/3 translate-x-1/3",format:"rounded",onClick:R},{default:c(()=>[l(v,{class:"text-green-100 h-2.5 w-2.5"})]),_:1})],64)),(!e(n)||(y=e(t))!=null&&y.showInstallPrompt)&&!((C=e(t))!=null&&C.offlineReady)&&!((I=e(t))!=null&&I.needRefresh)?(a(),s(i,{key:1},[o("div",ee,[te,l(r,{class:"bg-green-100 px-6 py-2 text-xs",onClick:B,format:"rounded"},{default:c(()=>[f("Instalar")]),_:1})]),l(r,{class:"absolute bg-green-100 border-2 border-green-100 absolute p-1 text-xs top-0 right-0 -translate-y-1/3 translate-x-1/3",onClick:j,format:"rounded"},{default:c(()=>[l(v,{class:"text-green-100 h-2.5 w-2.5"})]),_:1})],64)):d("",!0),(q=e(t))!=null&&q.needRefresh?(a(),s(i,{key:2},[o("div",ae,[se,l(r,{class:"bg-green-100 px-6 py-2 text-xs",onClick:S,format:"rounded"},{default:c(()=>[f("Actualizar")]),_:1})]),l(r,{class:"absolute bg-green-100 border-2 border-green-100 absolute p-1 text-xs top-0 right-0 -translate-y-1/3 translate-x-1/3",onClick:N,format:"rounded"},{default:c(()=>[l(v,{class:"text-green-100 h-2.5 w-2.5"})]),_:1})],64)):d("",!0)])])):d("",!0)}}};export{xe as default};
