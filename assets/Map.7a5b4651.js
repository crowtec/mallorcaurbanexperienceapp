import B from"./NightLights.b57aa5f8.js";import I from"./DayLights.00dc5332.js";import j from"./MapEntity.e5a45148.js";import{_ as z}from"./client-only.d0c53428.js";import{j as D,bD as E,r as l,p as R,i as F,e as h,o as a,m as s,h as n,w as y,bE as k,bF as O,f as r,l as H,u,bC as i,bG as T,c as U,bH as W,bI as $}from"./entry.ff35ea07.js";import{g as G}from"./index.4db78ffb.js";import"./Light.78d0f30b.js";import"./map.344bac6c.js";const q=""+new URL("pin_filled.09e8dc87.glb",import.meta.url).href;const m=c=>(W("data-v-b8b7a938"),c=c(),$(),c),J={key:0,class:"map__placeholder fixed top-0 left-0 h-full w-full"},K=m(()=>r("div",{class:"fixed w-full top-0 h-[30vh] bg-gradient-to-b from-teal-700 to-70%"},null,-1)),Q=m(()=>r("div",{class:"fixed w-full bottom-0 h-[30vh] bg-gradient-to-t from-teal-700 to-70%"},null,-1)),X=m(()=>r("div",{class:"fixed w-full top-0 h-[30vh] bg-gradient-to-b from-teal-500 to-70%"},null,-1)),Y=m(()=>r("div",{class:"fixed w-full bottom-0 h-[30vh] bg-gradient-to-b from-teal-500 to-70% rotate-180"},null,-1)),Z={__name:"Map",props:{locations:{type:Array,default:[]}},setup(c,{expose:C}){const _=E(),f=l(!1),v=l(!1),d=l(!0),b=l(!1),x=l(!1),w=l(!1),g=l(!0);return C({toggleCenitalView:({onComplete:t=()=>{}}={})=>{if(v.value=!v.value,f.value){const o=G.timeline(),e=f.value.components["orbit-controls"],p=e.controls.object;v.value?(e.controls.minPolarAngle=0,o.to(p.position,{x:0,y:20,z:0,onComplete:()=>{e.controls.enabled=!1,t&&t()}})):(e.controls.enabled=!0,o.to(p.position,{x:0,y:0,z:18,onComplete:()=>{e.controls.minPolarAngle=1,t&&t()}}))}},show:()=>d.value=!0,hide:()=>d.value=!1,showLocations:()=>b.value=!0,hideLocations:()=>b.value=!1}),R(()=>{var o,e;const t=(o=document.getElementsByTagName("html"))==null?void 0:o[0];(e=t==null?void 0:t.classList)==null||e.remove("a-fullscreen")}),F(()=>{w.value&&x.value&&(g.value=!1)}),(t,o)=>{const e=h("a-sky"),p=B,M=I,S=j,L=h("a-entity"),A=h("a-scene"),V=z;return a(),s(i,null,[n(O,{name:"fade",appear:""},{default:y(()=>[g.value?(a(),s("div",J)):k("",!0)]),_:1}),n(V,null,{default:y(()=>[r("div",{class:H(["transition-opacity duration-1000",g.value?"opacity-0 invisible":"opacity-100 visible"])},[n(A,{ref:"sceneRef",visible:d.value,shadow:"type: pcf",fog:u(_)?"type: exponential; color: #1A1C25; density: 0.025;":"type: exponential; color: #175557; density: 0.025;","device-orientation-permission-ui":"enabled: false",renderer:`antialias: true;
                    colorManagement: true;
                    sortObjects: false;
                    physicallyCorrectLights: true;
                    maxCanvasWidth: 1920;
                    maxCanvasHeight: 1920;`,onLoaded:o[1]||(o[1]=()=>w.value=!0)},{default:y(()=>[u(_)?(a(),s(i,{key:0},[n(e,{color:"#1A1C25"}),n(p)],64)):(a(),s(i,{key:1},[n(e,{color:"#175557"}),n(M)],64)),n(S,{onModelLoaded:o[0]||(o[0]=()=>x.value=!0)}),(a(!0),s(i,null,T(c.locations,(N,P)=>(a(),U(L,{key:P,"animation-mixer":"",id:"target","gltf-model":u(q),position:N.place.position,rotation:"0 0 0",scale:"0.2 0.2 0.2",visible:b.value},null,8,["gltf-model","position","visible"]))),128)),n(L,{ref_key:"cameraRef",ref:f,id:"camera",camera:"","look-controls":"enabled:false","orbit-controls":"target: 0 -1.7 -0.5; initialPosition: 0 20 0; rotateSpeed: 0.5; enablePan: false; minPolarAngle:50; maxPolarAngle:60; minDistance: 10; maxDistance: 30; zoomSpeed: 0.4; dampingFactor: 0.8; enabled: true;"},null,512)]),_:1},8,["visible","fog"])],2)]),_:1}),d.value?(a(),s(i,{key:0},[u(_)?(a(),s(i,{key:0},[K,Q],64)):(a(),s(i,{key:1},[X,Y],64))],64)):k("",!0)],64)}}},me=D(Z,[["__scopeId","data-v-b8b7a938"]]);export{me as default};
