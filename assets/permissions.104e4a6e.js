import w from"./Logo.19861494.js";import k from"./Marker.37381fde.js";import q from"./Button.c134a086.js";import{bq as C,bI as z,bJ as P,r as n,bo as A,b as B,l as t,f as e,h as d,u as o,w as N,bD as v,bB as S,j as V,bC as I,o as a,bG as j}from"./entry.81daf070.js";import{u as D}from"./map.fcdeb8f9.js";import{a as L,d as M}from"./device.fe62fe19.js";import{P as f}from"./permission.6b6370dd.js";import{d as $}from"./timer.1612f152.js";import"./BlurredCircle.11c8a405.js";import"./tw-merge.1166cefb.js";import"./nuxt-link.6ca645aa.js";const E=e("div",{class:"fixed w-full top-0 left-0 mix-blend-hard-light bg-sky-900",style:{height:"100dvh"}},null,-1),R={class:"fixed w-full flex",style:{height:"100dvh"}},T=e("div",{class:"fixed w-full top-0 h-[10vh] bg-gradient-to-b from-sky-900"},null,-1),F={class:"flex flex-col flex-1 relative backdrop-blur-sm"},G={class:"flex flex-col items-center flex-1 text-md overflow-scroll"},H={key:0,class:"container flex flex-col items-center justify-between flex-1 max-w-[340px] pb-20"},J=e("div",{class:"text-center text-green-100"}," Para que puedas descubrir los secretos de la isla necesitamos tener acceso a tu ubicación y la orientación de tu dispositivo. ",-1),U={class:"container text-center flex flex-col gap-4 max-w-[340px] text-green-100"},K=e("div",null," ¡Vaya! Ha habido algún problema para acceder a la ubicación de tu dispostivo. ",-1),O={key:0},Q={key:1},W={key:0,class:"container flex flex-1 justify-center overflow-scroll text-green-100"},X={class:"flex flex-col gap-3 pt-8 max-w-[280px]"},Y=I('<div class="flex gap-6"><div class="slashed-zero text-2xl">01</div><div class="text-left">Accede a &quot;Ajustes&quot;.</div></div><div class="flex gap-6"><div class="slashed-zero text-2xl">02</div><div class="text-left"> Accede a &quot;Privacidad y Seguridad&quot;. </div></div><div class="flex gap-6"><div class="slashed-zero text-2xl">03</div><div class="text-left">Accede a &quot;Localización&quot;.</div></div>',3),Z={class:"flex gap-6"},ee=e("div",{class:"slashed-zero text-2xl"},"04",-1),se={class:"text-left"},te=e("div",{class:"flex gap-6"},[e("div",{class:"slashed-zero text-2xl"},"05"),e("div",{class:"text-left"},'Marca "Cuando se use la app".')],-1),xe={__name:"permissions",setup(oe){const{$pwa:x}=C(),u=D(),_=z();_.value=P.sky[900];const i=n(!1),c=n(!1),l=n(!1),p=n(!1),m=A(),h=async()=>{let r=[f.requestLocation()];l.value&&x.isInstalled?await f.requestLocationState()!=="granted"&&r.push($(1e3)):console.log("no pwaaaa!!!"),Promise.race(r).then(s=>{i.value=!0,c.value=s&&s===!0,console.log(i.value),console.log(l.value),console.log(c.value),c.value&&m.push({path:"/tutorial"})}).catch(s=>console.log(s))};return B(()=>{l.value=L(),p.value=M(),u.value&&u.value.show()}),(r,s)=>{const g=w,b=k,y=q;return a(),t(v,null,[E,e("div",R,[T,e("div",F,[d(g),e("div",G,[!o(i)||o(i)&&o(c)?(a(),t("div",H,[J,e("div",null,[d(b,{class:"max-h-28"})]),d(y,{onClick:h,class:"bg-white py-4 px-16",shadowed:""},{default:N(()=>[j("Aceptar")]),_:1})])):(a(),t(v,{key:1},[e("div",U,[K,o(l)?(a(),t("div",Q," Por favor, verifica que tienes los permisos de localización activos con los siguientes pasos, y acepta la solicitud de permisos de la aplicación. ")):(a(),t("div",O," Por favor, asegúrate de conceder y aceptar los permisos solicitados. "))]),o(l)?(a(),t("div",W,[e("div",X,[Y,e("div",Z,[ee,e("div",se," Entra a "+S(o(p)||"tu navegador")+". ",1)]),te])])):V("",!0)],64))])])])],64)}}};export{xe as default};
