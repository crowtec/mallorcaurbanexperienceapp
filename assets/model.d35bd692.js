import C from"./ARModel.c7213f2d.js";import{_ as k}from"./client-only.99e47f81.js";import A from"./Button.216142ec.js";import $ from"./Arrow.a209ce96.js";import B from"./NavigationBar.fbfb2f31.js";import{k as g,H as N,i as R,B as _,a9 as j,f as q,e,w as a,y as P,o as E,u,b as f,aa as p}from"./entry.6c25cb23.js";import{q as H}from"./query.86056d68.js";import{P as O}from"./permission.00b040b8.js";import"./LightComp.65101716.js";import"./nuxt-link.d39e2c91.js";import"./tw-merge.1166cefb.js";import"./utils.da57fad7.js";import"./preview.cab97d0b.js";import"./location.2b16b367.js";const V=f("div",{class:"flex justify-center items-center h-10 w-10 border border-1 border-black rounded-full"},[f("span",{class:"text-sm"},"AR")],-1),Z={__name:"model",async setup(D){let o,n;g({bodyAttrs:{class:"bg-cyan-200"}});const d=N(),r=R(),{slug:l}=r.params,t=_(!1),c=_(!1),{data:i}=([o,n]=j(()=>P(`location-${l}`,()=>H(`location/${l}`).findOne(),{server:!1})),o=await o,n(),o),h=async()=>{t.value?p({path:`${r.path}?ar=${t?0:1}`}):(c.value=await O.requestCamera(),c.value&&(t.value=!0))},w=()=>{const s=i.value._path;t.value?p({path:s}):d.push({path:s})};return(s,G)=>{const y=C,b=k,m=A,x=$,v=B;return E(),q("div",null,[e(b,null,{default:a(()=>[e(y,{"ar-enabled":u(t),model:`${u(i).model.src}`},null,8,["ar-enabled","model"])]),_:1}),e(v,null,{default:a(()=>[e(m,{onClick:h,class:"flex justify-center items-center bg-yellow-200 h-16 w-16",format:"circle",shadowed:""},{default:a(()=>[V]),_:1}),e(m,{onClick:w,class:"bg-yellow-200 h-16 w-16 flex justify-center items-center",format:"circle",shadowed:""},{default:a(()=>[e(x,{class:"h-6 w-6"})]),_:1})]),_:1})])}}};export{Z as default};
