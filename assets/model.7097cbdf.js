import V from"./BlurredCircle.a509e365.js";import E from"./ARModelViewer.5b5d553a.js";import{_ as N}from"./client-only.06535a07.js";import j from"./Arrow.c0cf63e6.js";import q from"./Button.0944c301.js";import z from"./NavigationBar.3ef7d5c0.js";import{u as L}from"./map.4d42b06d.js";import{bP as O,bQ as P,q as D,bR as I,l as Q,x as o,c0 as S,z as T,c as h,b as e,w as a,a as n,bW as W,o as r,k as s,n as F,g as G,c2 as H}from"./entry.ad8edec5.js";import{q as J}from"./query.51d55f8d.js";import"./tw-merge.1166cefb.js";import"./nuxt-link.fea55341.js";import"./index.4db78ffb.js";import"./utils.b8fed951.js";import"./preview.110bd3ee.js";const K=n("div",{class:"fixed bg-cyan-200 top-0 w-full h-full"},null,-1),U=n("div",{class:"fixed w-full top-0 h-[30vh] bg-gradient-to-b from-yellow-100 to-50%"},null,-1),X=n("div",{class:"flex justify-center items-center h-10 w-10 border border-1 border-black rounded-full"},[n("span",{class:"text-sm"},"AR")],-1),Y={key:1},pe={__name:"model",async setup(Z){let t,i;const m=L(),b=O();b.value=P.yellow[100];const _=D(),y=I(),{slug:l}=y.params,v=Q(()=>_.options.history.state.back==="/map"),c=o(),u=o(!1),w=o(!1);o(!1);const x=H(),{data:d}=([t,i]=S(()=>W(`location-${l}`,()=>J(`location/${l}`).findOne(),{})),t=await t,i(),t),k=()=>{u.value=c.value.canActivateAR()},C=async()=>{x.trackEvent({event:"ar_launched",category:"Sculptures",action:"AR launched",label:l}),c.value.activateAR()},R=()=>{const f=d.value._path;_.push({path:f})};return T(()=>{m.value&&m.value.hide()}),(f,ee)=>{const g=V,A=E,B=N,$=j,p=q,M=z;return r(),h("div",null,[K,U,e(g,{class:"fixed bg-cyan-500 bottom-0 left-2/4 -translate-x-1/2 translate-y-3/4"}),e(B,null,{default:a(()=>[e(A,{ref_key:"modelViewerRef",ref:c,onLoad:k,"ar-enabled":s(w),model:s(d).model},null,8,["ar-enabled","model"])]),_:1}),e(M,null,{default:a(()=>[e(p,{onClick:R,class:"bg-yellow-200 h-16 w-16 flex justify-center items-center",format:"circle",shadowed:""},{default:a(()=>[e($,{class:F(["h-6 w-6",{"rotate-180":!s(v)}])},null,8,["class"])]),_:1}),s(u)?(r(),G(p,{key:0,onClick:C,class:"flex justify-center items-center bg-yellow-200 h-16 w-16",format:"circle",shadowed:""},{default:a(()=>[X]),_:1})):(r(),h("div",Y))]),_:1})])}}};export{pe as default};
