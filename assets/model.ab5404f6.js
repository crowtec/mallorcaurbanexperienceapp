import M from"./BlurredCircle.b775957d.js";import V from"./ARModelViewer.5a498581.js";import{_ as N}from"./client-only.a54a0dff.js";import j from"./Arrow.d6d09a45.js";import q from"./Button.b415c3e7.js";import E from"./NavigationBar.77fcb4b1.js";import{u as L}from"./map.5253d090.js";import{bP as O,bQ as P,x as z,bR as D,q as I,r as t,c0 as Q,g as T,c as h,b as e,w as a,a as n,bW as W,o as c,p as s,n as F,i as G}from"./entry.a143ec6e.js";import{q as H}from"./query.5f6ddc17.js";import"./tw-merge.1166cefb.js";import"./nuxt-link.d7344e53.js";import"./index.4db78ffb.js";import"./utils.c65d8434.js";import"./preview.837cf559.js";const J=n("div",{class:"fixed bg-cyan-200 top-0 w-full h-full"},null,-1),K=n("div",{class:"fixed w-full top-0 h-[30vh] bg-gradient-to-b from-yellow-100 to-50%"},null,-1),S=n("div",{class:"flex justify-center items-center h-10 w-10 border border-1 border-black rounded-full"},[n("span",{class:"text-sm"},"AR")],-1),U={key:1},ue={__name:"model",async setup(X){let o,r;const i=L(),b=O();b.value=P.yellow[100];const m=z(),w=D(),{slug:_}=w.params,y=I(()=>m.options.history.state.back==="/map"),l=t(),d=t(!1),v=t(!1);t(!1);const{data:u}=([o,r]=Q(()=>W(`location-${_}`,()=>H(`location/${_}`).findOne(),{})),o=await o,r(),o),x=()=>{d.value=l.value.canActivateAR()},C=async()=>{l.value.activateAR()},k=()=>{const f=u.value._path;m.push({path:f})};return T(()=>{i.value&&i.value.hide()}),(f,Y)=>{const R=M,A=V,g=N,B=j,p=q,$=E;return c(),h("div",null,[J,K,e(R,{class:"fixed bg-cyan-500 bottom-0 left-2/4 -translate-x-1/2 translate-y-3/4"}),e(g,null,{default:a(()=>[e(A,{ref_key:"modelViewerRef",ref:l,onLoad:x,"ar-enabled":s(v),model:s(u).model},null,8,["ar-enabled","model"])]),_:1}),e($,null,{default:a(()=>[e(p,{onClick:k,class:"bg-yellow-200 h-16 w-16 flex justify-center items-center",format:"circle",shadowed:""},{default:a(()=>[e(B,{class:F(["h-6 w-6",{"rotate-180":!s(y)}])},null,8,["class"])]),_:1}),s(d)?(c(),G(p,{key:0,onClick:C,class:"flex justify-center items-center bg-yellow-200 h-16 w-16",format:"circle",shadowed:""},{default:a(()=>[S]),_:1})):(c(),h("div",U))]),_:1})])}}};export{ue as default};
